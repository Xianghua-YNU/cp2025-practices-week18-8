
# 实验报告：Buffon 投针实验估计 $\pi$ 值

**学生姓名：** [王鑫筠] 

**学号：** [20231050040] 

**完成日期：** [2025.6.25]

## 一、实验目的
编写程序，利用 Buffon 投针实验来估计 $\pi$ 的值，并分析实验次数对估计精度的影响。

## 二、实验原理
Buffon 投针实验是一种利用概率方法估计圆周率  \pi  的经典实验。
假设在平面上画有等距（间距为  d  ）的平行线，取一根长度为  l （通常令  l = d  ，简化计算 ）的针，随机投向平面。设投针次数为  n  ，针与平行线相交的次数为  m  。
当  l \leq d  时，根据几何概率推导，针与平行线相交的概率  P  满足：
 P = \frac{2l}{\pi d} 
由于实验中取  l = d  ，则公式简化为  P = \frac{2}{\pi}  ，进一步变形可得  \pi \approx \frac{2n}{m}  ，即通过统计投针总次数  n  和相交次数  m  ，可估计出  \pi  的值 。

## 三、实验环境
### 3.1 硬件环境
- 计算机型号：[Great Wall]
- CPU：[Intel(R) Xeon (R) CPU E5-26xx Series]
- 内存：[4G]

### 3.2 软件环境
- 操作系统：[Window7]
- 编程语言：[python]
- 开发工具：[IDLE3.7 64-bit]

## 四、实验步骤
### 4.1 投针实验模拟逻辑实现
1. 思路：利用 Python 生成随机数模拟投针过程。设定平行线间距  d = 1  ，针长  l = 1  。每次投针时，随机确定针的中点到最近平行线的距离  x （范围  0 \leq x \leq 0.5  ）和针与平行线的夹角  \theta （范围  0 \leq \theta \leq \pi  ）。若  x \leq 0.5 \times \sin\theta  ，则判定针与平行线相交。
```python
import random
import math

def buffon_needle(n):
    hits = 0
    for _ in range(n):
        # 针中点到最近平行线距离，范围 [0, 0.5]
        x = random.uniform(0, 0.5)  
        # 针与平行线夹角，范围 [0, π]
        theta = random.uniform(0, math.pi)  
        if x <= 0.5 * math.sin(theta):
            hits += 1
    if hits == 0:
        return 0
    return 2 * n / hits

```

### 4.2 实验次数设置
设置不同的投针次数，分别为  100 、 1000 、 10000 、 100000  ，观察随着次数增加， \pi  估计值的变化。

### 4.3 运行实验并记录结果
编写代码循环调用  buffon_needle  函数，传入不同实验次数，记录每次得到的  \pi  估计值：
experiment_counts = [100, 1000, 10000, 100000]
results = {}
for count in experiment_counts:
    pi_est = buffon_needle(count)
    results[count] = pi_est
    print(f"实验次数 {count} ，估计 π 值：{pi_est}")


## 五、实验结果
### 5.1 不同实验次数下的 $\pi$ 估计值
| 实验次数 | $\pi$ 估计值 |
|----------|---------------|
| 100      | [3.091190108191654]  |
| 1000     | [3.141196795979268]  |
| 10000    | [3.1376486461046094]  |
| 100000   | [3.140116718138413]  |

### 5.2 实验结果可视化
附上不同实验次数与 $\pi$ 估计值的关系图表，可使用折线图或柱状图。
![Image_1750822455338](https://github.com/user-attachments/assets/0d44b502-3dd5-4ce8-94b8-15462ed7b09a)

## 六、结果分析
### 6.1 实验次数对估计精度的影响
随着实验次数增加， \pi  估计值整体呈现向真实值（ \pi \approx 3.14159  ）逼近的趋势。当实验次数较少（如 100 次 ）时，估计值与真实值偏差可能较大，结果波动性强；次数增多（如 10 万次 ）时，估计值更接近真实值，稳定性提升。这符合大数定律，即实验次数越多，频率越趋近于概率，估计精度越高。

### 6.2 误差来源分析
- 随机数生成：计算机生成的是伪随机数，并非完全随机，可能导致投针模拟的随机性存在偏差，影响相交次数统计。
​
- 模拟逻辑近似：实验中通过离散的随机数模拟连续的投针过程，如距离、角度的取值是离散采样，与理论上的连续情况有细微差异，会引入误差。
​
- 计算精度：Python 中浮点数运算存在精度限制，多次运算累积可能对结果有微弱影响。

## 七、实验结论
Buffon 投针实验能够有效估计  \pi  的值，实验结果验证了随着投针次数增加， \pi  估计值逐步逼近真实值，符合大数定律预期。虽然受随机数、模拟逻辑等因素影响存在误差，但通过增加实验次数可显著提升估计精度，证明该实验方法在估计圆周率方面的可行性与有效性 。

        
